{% extends "base.html" %} {% block content %}
<!--- BEGINING OF Content -->

<!-- <script src="https://unpkg.com/browse/antd@4.14.0/dist/antd.min.js"></script>
<script
  src="https://unpkg.com/react@latest/umd/react.development.js"
  crossorigin="anonymous"
></script>
<script src="https://unpkg.com/react-dom@latest/umd/react-dom.development.js"></script>
<script
  src="https://unpkg.com/babel-standalone@latest/babel.min.js"
  crossorigin="anonymous"
></script> -->

<div class="container-fluid">
  <div class="row">
    <div class="col-xs-12">
      <span class="page-title red"><h2>Community 360 - Users</h2></span>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-24">
      <div class="panel panel-info">
        <div class="panel-heading">
          <h3 class="panel-title">
            <i class="fa fa-users"></i> Top Active Users
          </h3>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <table id='user-table' class="table table-striped table-bordered" >
      <thead>
        <tr style="background-color: rgb(255, 109, 0);">
          <th>Picture</th>
          <th>Username</th>
          <!-- <th>Name</th> -->
          <th>Messages Sent</th>
          <!-- <th>Posts Read</th>
          <th>Days Visited</th>
          <th>Topics Entered</th>
          <th>Title</th> -->
        </tr>
      </thead>
      <tbody>
        {% for user in users %}
        <tr>
          <td style="width:20%"><img
            src="{{ user['avatar'] }}"
            class="profile-img pull-left"
            width="100px"
          /></td>
          <td>{{ user.username }}</td>
          <!-- <td>{{ user.name }}</td> -->
          <td>{{ user.messages }}</td>
          <!-- <td>{{ user.posts_read_count }}</td>
          <td>{{ user.days_visited }}</td>
          <td>{{ user.topics_entered }}</td>
          <td>{{ user.title }}</td> -->
        </tr>
        {% endfor %}
      </tbody>
    </table>
    </div>
</div>
<!-- This script was an attempt at using ant React components-->
<!--
<script type="text/babel">
  const { Table, Tag, Space } = antd;
  const columns = [
    {
      title: "Image",
      dataIndex: "url",
      render: (theImageURL) => <img alt={theImageURL} src={theImageURL} />,
    },
    {
      title: "Name",
      dataIndex: "name",
    },
    {
      title: "Username",
      dataIndex: "username",
    },
    {
      title: "Days Visited",
      dataIndex: "days_visited",
    },
    {
      title: "Posts Read",
      dataIndex: "posts_read_count",
    },
  ];
  const data = "{{stats}}";
  ReactDOM.render(<Table columns={columns} dataSource={data} />, document.querySelector('#ant-table'));
</script> -->

<!-- This script does pagination (copied from online)-->
<!--
<script>
  $(document).ready(function(){
    $('#user-table').after('<div id="nav"></div>');
    var rowsShown = 5;
    var rowsTotal = $('#user-table tbody tr').length;
    var numPages = rowsTotal/rowsShown;
    $('#nav').append('<button><i class="fa fa-chevron-left"></i></button>')
    for(i = 0;i < numPages;i++) {
        var pageNum = i + 1;
        $('#nav').append('<a href="#" rel="'+i+'">'+pageNum+'</a> ');
    }
    $('#nav').append('<button><i class="fa fa-chevron-right"></i></button>')
    $('#user-table tbody tr').hide();
    $('#user-table tbody tr').slice(0, rowsShown).show();
    $('#nav a:first').addClass('active');
    $('#nav a').bind('click', function(){

        $('#nav a').removeClass('active');
        $(this).addClass('active');
        var currPage = $(this).attr('rel');
        var startItem = currPage * rowsShown;
        var endItem = startItem + rowsShown;
        $('#user-table tbody tr').css('opacity','0.0').hide().slice(startItem, endItem).
        css('display','table-row').animate({opacity:1}, 300);
    });
});
</script> -->

<script>

$('#user-table').DataTable({
  "lengthMenu": [[ 5, 10, 25, 50, -1 ], [ 5, 10, 25, 50, "All"]],
});


</script>

<!--- END  Content -->
{% endblock %}
